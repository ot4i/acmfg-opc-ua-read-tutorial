{
    "version": "0.1",
    "pageContent": 
	{
        "_comments": "object that contains data for page labels, buttons, etc.",
        "navItems": 
		{
            "_common": 
			{
                "buttonBackToGallery": 
				{
                    "name": "Back To Gallery",
					"method": "backToGallery()",
					"idName": "backToGallery"	
                },
                "buttonStartTutorial": 
				{
                    "name": "Start Tutorial",
					"method": "startTutorialFromDetailsScreen()",
					"idName": "startTutorial"
                },
				"buttonViewDetails": 
				{
                    "name": "View Details",
					"method": "viewDetails()",
					"idName": "stepsViewDetails"	
                }
            }
        }
    },
    "tutorial": 
	{
		"_common": 
		{
			"name": "App Connect for Manufacturing - Using the OPC-UA-Read node to read data from an OPC Server",
			"shortDescription": "Learn how to create a simple message flow for reading data from an OPC server using the OPC-UA-Read Node.",
			"durationText": "This tutorial takes approximately",
			"durationTime": "10 minutes",
			"_resourceToOpenComment": "The ID of the first resource to open when the user imports the tutorial. Resource IDs are defined in the repo_metadata.json.",
			"resourceToOpen": "TestReadFlow.msgflow",
			"helpLink": {
				"text": "IBM Documentation",
				"link": "https://www.ibm.com/docs/en/app-connect/11.0.0?topic=manufacturing-developing-message-flow-applications"
			}		
		
		
		},
		"pageDetails": {
			"topicsName": "Tutorial Topics",
			"_topicListComment": "A short list of product concepts or tasks demonstrated by this tutorial",
			"topicList": [{
					"title": "Create a Data source in the Manufacturing Perspective"
				},
				{
					"title": "Create and start an Integration Server"
				},
				{
					"title": "Create and deploy a Control Flow"
				},
				{
					"title": "Create and deploy a Read Flow"
				}
			],
			"outcomesName": "Learning outcomes",
			"_outcomesComment": "Use IBM App Connect for Manufacturing to read values from an OPCServer using OPC-UA-Read Node.",
			"outcomeList": [{
				"title": "Use App Connect Manufacturing Pack to read values from an OPC Server using the OPC-UA-Read Node."
			}],
            "summary": {
				"overviewName": "OVERVIEW",
				"_overviewComment": "This tutorial demonstrates how to create a simple message flow for reading data from an OPC server using the OPC-UA-Read Node.",
				"sections": [
					{
					"section": "This tutorial assumes you have installed and configured AppConnect for Manufacturing. If this is not the case, the tutorial has a pre-requisites section which will help you to complete the required tasks before running the tutorial."
					},
					{
					"section": "After creating a DataSource connection to an OPCServer and starting the Integration Server, you can import a provided application project. The project contains two message flows: a Control Flow and a Read Flow."
					},
					{
					"section": "After performing some configuration, you will first deploy and start the control flow. Next you will deploy and start the read flow."
					},
					{
					"section": "The read flow is driven using HTTP data which causes the flow to exexute, read data from the OPC UA Server using the OPC-UA-Read node and return it back to the waiting HTTP client. "
					}
				]
			},
			"helpLinks": {
						"_helpLinksComment": "Helplinks that have a type:web attribute are rendered as web links. Otherwise, links are assumed to be to embedded Help topics in the Knowledge Center.",
						"title": "Find out more",
						"details": [{
							"title": "Knowledge Center link to ",
							"description": "IBM App Connect for Manufacturing overview",
							"link": "https://www.ibm.com/docs/en/app-connect/11.0.0?topic=manufacturing-app-connect-overview",
							"type": "web"
						}]
			}
		},
		"pageSteps": {
			"create": {
				"overview": {
					"name": "Create",
					"heading": "Import project",
					"_createComment": "A description of what will happen when the user clicks Import.",
					"sections": [{
							"section": "Click <span class='uicontrol'>Import</span> and the <span class='uicontrol'>TestReadFlowApp and ControlFlowApp</span> application will be imported into your workspace."
						},
						{
							"section": "The <span class='uicontrol'>TestReadMessageFlow</span> message flow will be opened for you."
						}
					]
				},
 				"helpLinks": {
					"title": "Find out more",
					"details": [{
						"title": "IBM Documentation link to ",
						"description": "Developing Message Flow applications",
						"link": "https://www.ibm.com/docs/en/app-connect/11.0.0?topic=manufacturing-developing-message-flow-applications",
						"type": "web"
					}]
				},
                "actions": 
				{
                    "title": "Create Actions",
                    "details": 
					[
                        {
                            "name": "Import",
                            "method": "importArtifacts()"
                        }
                    ]
                }
            },
            "prepare": 
			{
				"overview": {
				"name": "Prepare",
				"heading": "Prepare for Read Flow",
				"_prepareComment": "Prepare for Read Flow",
				"sections": [{
						"section": "Create a Data Source connection to an OPC Server using the App Connect Enterprise Toolkit:",
						"steps": {
							"type": "ordered",
							"details": [{
									"details": "To create a data source, complete the following steps."
								},
								{
									"details": "Navigate to the Manufacturing Perspective > DataSources. Specify a name for the mapping node and click OK. The new data source gets created under the DataSource Properties window."
								},
								{
									"details": "Select the Server URL Type as Endpoint"
								},
								{
									"details": "Specify the Server URL: e.g. opc.tcp://TEST_OPC_SERVER:port/OPCUA/SimulationServer"
								}, {
									"details": "Select the default values for the rest of the parameters and click on Create DataSource"
								}
							]
						}
					},		
					{
						"section": "Create and run Integration Server :",
						"steps": {
							"type": "ordered",
							"details": [{
									"details": "Assuming you are using a Windows platform, open an App Connect Enterprise Command Console and start an integration server using the following command:<br><code>IntegrationServer --work-dir C:\\TESTSERVER --name TESTSERVER --admin-rest-api 7600 --http-port-number 7800 --console-log</code> <br>where <b>C:\\TESTSERVER</b> is a folder on your file system that the server will use for its working directory."
								},

								{
									"details": "Modify C:\\TESTSERVER\\server.conf.yaml to add the following lines after the line ConnectorProviders:"
								},								
								{
									"details": "Please note that you would need to change the jarsURL value as per your installation of ACMFG. But it should point to the amd64_nt_4 folder"
								},
								{
									"details": "ACMfg:<b>    connectorClassName: 'com.ibm.industrypack.industryclient.connector.ICConnectorFactory'<b>    jarsURL: 'C:\\Program Files\\IBM\\ACMfg\\3.0.1.0\\runtime\\amd64_nt_4'<b>   property1: 'trustCertificate=true;allowEndpointMismatch=true'<br>   property2: 'isHA=true;discardData=false;mqttHostName=localhost;mqttPort=11883' "
								},
								{
									"details": "Save the above server.conf.yaml file and restart the Integration server using the command mentioned above"
								},
								{
									"details": "In the App Connect Enterprise Toolkit Integration Explorer view, right click the folder <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/ace/IntegrationServers.png' alt='' /> and select the menu item  <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/ace/ConnectToAnIntegrationServer.png' alt='' />. In the connection details panel, specify the <b>Host name</b> to be <b>localhost</b>, the <b>Port</b> to be <b>7600</b> and click Finish. This will connect your Toolkit and display the integration server that you started in the last step <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/ace/TESTSERVER.png' alt='' />"
								}
							]
						}
					}
             ]
                },
                "helpLinks": 
				{
								"title": "Find out more",
			"details": [{
				"title": "IBM Documentation link to ",
				"description": "Using the Manufacturing Perspective",
				"link": "https://www.ibm.com/docs/en/app-connect/11.0.0?topic=applications-using-manufacturing-perspective",
				"type": "web"
			}]
                }
            },
            "run": 
			{
                "overview": 
				{
                    "name": "Run",
                    "heading": "",
                    "_runComment": "The full steps for the user to run through the tutorial. Use 'sections' to render paragraphs, 'steps' with a type of 'ordered' or 'unordered' to render HTML lists, and 'substeps' to render nested lists.",
                "sections":[                            
					           {  
								"section": "<b>Option 1: Use the Flow Exerciser to test the tutorial scenario</b>",
                                "steps": {
                                    "type": "ordered",
                                    "details": [                                      
                                        {
                                        "details": "In the Integration Explorer view of the Toolkit, right-click TEST_SERVER and select the option to Start."
                                        },
                                        {
                                        "details": "Once the server has started, drag and drop deploy the policy project <span class='application'>ExamplePolicyProjectAmazonS3</span> in to TEST_SERVER."
                                        },										
										{
                                        "details": "Return to <span class='resource'>ExampleAmazonS3Flow.msgflow</span> and click the Flow Exerciser icon <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/iib/startFlowExerciser.png' alt='' /> to start testing the flow."
                                        },
										{
                                            "details": "Click the Send Message icon <img src='http://ot4i.github.io/ot4i.tutorials/dist/images/icons/iib/sendMessage.png' alt='' />. Create a new test message to invoke the HTTP Input node. Any well-formed JSON will be fine, even something as simple as <code>{&quot;hello&quot;:&quot;world&quot;}</code>. Click Send and your message is sent to the HTTPInput node. You will receive a JSON reply message which is simply an echo of the same data which you sent in. You may also see a highlighted path through the flow. Sometimes there may be a short pause before the data is returned from Amazon S3, so you may need to click the View Path icon <img src='http://ot4i.github.io/iib-tutorials/images/icons/iib/viewPath.png' alt='View path' /> in the Flow Exerciser toolbar in order to see the highlighted path carry on past the Amazon S3 Request node and into a Trace node at the end of the message flow. Click on the highlighted path coming out of the Amazon S3 Request node to see the data which has been retrieved."
										}
                                        ]
                                    }
                            },							   
							{
								"section": "<b>Option 2: Using the alternative provided application named CompleteExampleAmazonS3 to test the tutorial scenario</b>",
                                "steps": {
                                    "type": "ordered",
                                    "details": [                                      
                                        {
											"details": "In order to reuse the completed application which is provided with this tutorial, you must configure your integration server with credentials for communicating with your Amazon S3 service instance.  Launch a command console session, and run the following command to create these credentials:<br><code>mqsicredentials --work-dir &lt;YourToolkitWorkspace&gt;\\TEST_SERVER  --vault-key password123 --create --credential-type amazons3 --credential-name CompletePolicyProjectAmazonS3_AmazonS31 --secret-access-key &lt;YourAmazonS3SecretAccessKey&gt; --access-key-id &lt;YourAmazonS3AccessKeyId&gt;</code>"
										},
										{	
                                        "details": "Back in the Toolkit, in the Integration Explorer view, right-click <code>TEST_SERVER</code> and select the option to Start."
                                        },
                                        {
                                        "details": "Locate the policy named <span class='application'>AmazonS31.policyxml</span> inside the policy project named <span class='application'>CompletePolicyProjectAmazonS3</span>, right-click the policy and select the option to Open With > Policy Editor. You will find the <strong>Region</strong> property is currently not configured (this is an optional field) but if you would like to focus your connection on a particular region you can fill out this field and resave the policy.  Drag and drop deploy the policy project <span class='application'>CompletePolicyProjectAmazonS3</span> to <code>TEST_SERVER</code>."
                                        },
										{
                                        "details": "Return to <span class='resource'>CompleteExampleAmazonS3Flow.msgflow</span> and click the Flow Exerciser icon <img src='http://ot4i.github.io/ot4i.tutorials//dist/images/icons/iib/startFlowExerciser.png' alt='' /> to start testing the flow."
                                        },
										{
                                            "details": "Click the Send Message icon <img src='http://ot4i.github.io/ot4i.tutorials/dist/images/icons/iib/sendMessage.png' alt='' />. Create a new test message to invoke the HTTP Input node. Any well-formed JSON will be fine, even something as simple as <code>{&quot;hello&quot;:&quot;world&quot;}</code>. Click Send and your message is sent to the HTTPInput node. You will receive a JSON reply message which is simply an echo of the same data which you sent in. You may also see a highlighted path through the flow. Sometimes there may be a short pause before the data is returned from Amazon S3, so you may need to click the View Path icon <img src='http://ot4i.github.io/iib-tutorials/images/icons/iib/viewPath.png' alt='View path' /> in the Flow Exerciser toolbar in order to see the highlighted path carry on past the Amazon S3 Request node and into a Trace node at the end of the message flow. Click on the highlighted path coming out of the Amazon S3 Request node to see the data which has been retrieved."
										}
									]
								}
							}
                    ]
                },
                "helpLinks": 
				{
                    "title": "Find out more",
                    "details": 
					[
{
                             "title": "IBM Documentation link to ",
                             "description": "Amazon S3 Request node",
                             "link": "https://www.ibm.com/docs/en/app-connect/12.0?topic=nodes-amazon-s3-request-node",
                             "type": "web"
                        },
						{
                            "title": "IBM Documentation link to ",
                            "description": "Testing your message flow by using the Flow exerciser",
                            "link": "https://www.ibm.com/docs/SSTTDS_12.0/com.ibm.etools.mft.doc/rt26110_.htm",
							"type": "web"
                        }
						
						
                    ]
                }
            }
        }
    }
}
